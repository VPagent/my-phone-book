{"version":3,"file":"static/js/303.3939708c.chunk.js","mappings":"wNACA,EAAuB,wBAAvB,EAAuD,yBAAvD,EAAwF,yBAAxF,EAAyH,yBAAzH,EAAwJ,uB,SCiDxJ,EA3C2B,WACvB,OAA0BA,EAAAA,EAAAA,UAAS,IAAG,eAA/BC,EAAK,KAAEC,EAAQ,KACtB,GAAgCF,EAAAA,EAAAA,UAAS,IAAG,eAArCG,EAAQ,KAAEC,EAAW,KAC5B,GAA0BC,EAAAA,EAAAA,GAAe,SAAQ,eAAnCC,GAAF,KAAU,MACtB,GAAwBD,EAAAA,EAAAA,GAAe,QAAO,eAAvCE,EAAI,KAAEC,EAAO,KACpBC,QAAQC,IAAIH,GACZ,IAAMI,EAAe,SAACC,GAAiD,IAAD,EAClE,OAAQ,OAADA,QAAC,IAADA,GAAgB,QAAf,EAADA,EAAGC,qBAAa,WAAf,EAAD,EAAkBC,MACrB,IAAK,QACF,OAAOZ,EAASU,EAAEG,OAAOC,OAC5B,IAAK,WACF,OAAOZ,EAAYQ,EAAEG,OAAOC,OAEvC,EAaA,OACI,kBAAMC,OAAO,GAAGC,UAAWC,EAAQC,SAblB,SAACR,GAClBA,EAAES,iBACF,KACAC,EAAAA,EAAAA,IAAU,CAACrB,MAAAA,EAAOE,SAAAA,IACjBoB,MAAK,SAAAC,GACFlB,EAASkB,EAAIC,OACbjB,EAAQgB,EAAIjB,MACZmB,EAAAA,GAAAA,IAAaF,EAAIC,OACjBE,aAAaC,QAAQ,QAASC,KAAKC,UAAUN,EAAIC,OACrD,GAC6C,CAA3C,MAAMM,GAAWtB,QAAQC,IAAIqB,EAAMC,QAAQ,CACjD,EAE8D,WACtD,cAAGd,UAAWC,EAAQ,mDACtB,mBAAOD,UAAWC,EAAQ,oBAEtB,kBAAOc,KAAK,QAAQf,UAAWC,EAASL,KAAK,QAAQoB,YAAY,QAAQlB,MAAOf,EAAOkC,SAAUxB,QAErG,mBAAOO,UAAWC,EAAQ,uBAEtB,kBAAOc,KAAK,WAAWf,UAAWC,EAASL,KAAK,WAAUoB,YAAY,WAAWlB,MAAOb,EAAUgC,SAAUxB,QAEhH,SAAC,KAAI,CAACyB,GAAG,YAAW,mCACpB,mBAAQlB,UAAWC,EAAOc,KAAK,SAAQ,qBAGnD,EC5BA,EAd2B,WAGvB,OACI,8BACI,UAACI,EAAA,EAAS,YACN,uCACA,SAAC,EAAS,QAI1B,C","sources":["webpack://my-phone-book/./src/components/LoginForm/loginForm.module.scss?0f87","components/LoginForm/LoginForm.tsx","pages/LoginPage/LoginPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"loginForm_form__GQH2o\",\"title\":\"loginForm_title__RRxis\",\"label\":\"loginForm_label__-hvMt\",\"input\":\"loginForm_input__UEhOW\",\"btn\":\"loginForm_btn__wZu-u\"};","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useGlobalState } from '../../globalState/store'\nimport tokenApi, { userLogIn } from '../../services/API'\nimport s from '../LoginForm/loginForm.module.scss'\n\n\nconst LoginForm:React.FC = () => {\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [token, setToken] = useGlobalState(\"token\")\n    const [user, setUser] = useGlobalState(\"user\")\n    console.log(user)\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>):void => {\n        switch(e?.currentTarget?.name){\n            case \"email\":\n               return setEmail(e.target.value);\n            case \"password\":\n               return setPassword(e.target.value);\n        }\n    }\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault()\n        try{\n        userLogIn({email, password})\n        .then(res => {\n            setToken(res.token)\n            setUser(res.user)\n            tokenApi.set(res.token)\n            localStorage.setItem(\"token\", JSON.stringify(res.token))\n        })\n        } catch(error:any){console.log(error.message)}\n    }\n    return(\n        <form action=\"\" className={s.form} onSubmit={handleSubmit}>\n            <p className={s.title}>Please enter your Email and Password</p>\n            <label className={s.label}>\n                Email:\n                <input type=\"email\" className={s.input} name='email' placeholder='email' value={email} onChange={handleChange}/>\n            </label>\n            <label className={s.label}>\n                Password:\n                <input type=\"password\" className={s.input} name='password'placeholder='password' value={password} onChange={handleChange}/>\n            </label>\n            <Link to=\"/register\">I don't have account</Link>\n            <button className={s.btn} type='submit'>LogIn</button>\n        </form>\n    )\n}\n\nexport default LoginForm","import Container from '../../components/Container'\nimport LoginForm from '../../components/LoginForm'\nimport s from '../LoginPage/loginPage.module.scss'\n\n\n\nconst LoginPage:React.FC = () => {\n\n\n    return(\n        <section>\n            <Container>\n                <h1>LoginPage</h1>\n                <LoginForm />\n            </Container>\n        </section>\n    )\n}\n\n\nexport default LoginPage"],"names":["useState","email","setEmail","password","setPassword","useGlobalState","setToken","user","setUser","console","log","handleChange","e","currentTarget","name","target","value","action","className","s","onSubmit","preventDefault","userLogIn","then","res","token","tokenApi","localStorage","setItem","JSON","stringify","error","message","type","placeholder","onChange","to","Container"],"sourceRoot":""}